### 관계형 모델과 문서 모델 
오늘날 잘 알려진 데이터 모델은 1970년 에드가 코드(Edgar Codd) 가 제안한 관계형 모델을 기반으로 한 SQL 이다. 데이터는 관계(relation)로 구성되고 관계는 순서없는 튜플(tuple) 모음이다. 


### NoSQL 의 탄생 
NoSQL 데이터베이스를 채택한 데는 다음과 같은 다양한 원동력이 있다. 
* 대규모 데이터셋이나 매우 높은 쓰기 처리량 달성을 관계형 데이터베이스보다 쉽게 할 수 있는 뛰어난 확장성의 필요 
* 상용 데이터베이스 제품보다 무료 오픈소스 소프트웨어에 대한 선호도 확산
* 관계형 모델에서 지원하지 않는 특수 질의 동작 
* 관계형 스키마의 제한에 대한 불만과 더욱 동적이고 표현력이 풍부한 데이터 모델에 대한 바람 

미래에는 관계형 데이터베이스가 폭넓은 다양함을 가진 비관계형 데이터스토어와 함께 사용될 것이다. 이런 개념을 종종 `다중 저장소 지속성(polygot persistence)` 이라 한다.

### 객체 관계형 불일치 
오늘날 대부분의 어플리케이션은 객체지향 프로그래밍 언어로 개발한다. 데이터를 관계형 테이블에 저장하려면 어플리케이션 코드와 데이터베이스 모델 객체(테이블, 로우, 칼럼) 사이에 거추장스러운 전환 계층이 필요하다. 이런 모델 사이의 분리를 종종 `임피던스 불일치(impedence mismatch)` 라고 부른다. 

예를 들어, 관계형 스키마에서 이력서를 어떻게 표현하는지 보여준다. 
* 전통적인 SQL 에서 가장 일반적인 정규화 표현은 직위, 학력, 연락처 정보를 개별 테이블에 넣고, 외래 키로 user 테이블을 참조한다.
* SQL 데이터베이스 시스템에서 지원하는 JSON 필드에 대한 지원을 사용한다.
* 직업, 학력, 연락처 정보를 JSON 이나 XML 문서로 텍스트 컬럼에 저장한다.

JSON 표현은 다중 테이블(multi-table) 스키마보다 더 나은 지역성(locality)을 갖는다. JSON 표현에서는 모든 관련 정보가 한 곳에 있어 질의 하나로 충분하다.


### 다대일과 다대다 관계 
단순텍스트 필드를 사용하지 않고, ID 를 사용하는 장점은 다음과 같다. ID 자체는 아무런 의믹 ㅏ없기 때뭉네 변경할 필요가 없다. 즉 식별 정보를 변경해도 ID 는 동일하게 유지할 수 있다. 중복된 데이터를 정규화하려면 `다대일(many-to-one)` 관계가 필요한데, 안타깝게도 다대일 관계는 문서 모델에 적합하지 않다. 관계형 데이터베이스에서는 조인이 쉽기 때문에 ID로 다른 테이블의 로우를 참조하는 방식은 일반적이다. 문서 데이터베이스에서는 일대다 트리 구조를 위해 조인이 필요하지 않지만 조ㅇ인에 대한 지원이 보통 약하다. 


### 관계형 모델 
관계형 모델이 하는 일은 알려진 모든 데이터를 배치하는 것이다. 관계(테이블)은 단순히 튜플(로우)의 컬렉션이 전부이다. query optimizer 은 질의의 어느 부분을 어떤 순서로 실행할지를 결정하고 사용할 색인을 자동으로 결정한다. 


### 문서 데이터베이스와의 비교 
문서 데이터베이스는 별도 테이블이 아닌 상위 레코드 내에 중첩된 레코드를 저장한다. 문서 데이터베이스는 일대다 관계를 자동으로 지원하고, 다대일과 다대다 관계를 표현할 때 근본적으로 다르지 않다. 둘 다 관련 항목은 고유한 식별자로 참조한다. 관계형 모델에서는 외래 키라 부르고 문서 모델에서는 문서 참조라 부른다.


### 어떤 데이터 모델이 어플리케이션 코드를 더 간단하게 할까 ?
어플리케이션에서 데이터가 문서와 비슷한 구조라면 무서 모델을 사용하는 것이 좋다. 문서와 비슷한 구조를 여러 테이블에 찢는 관계형 기법은 복잡한 어플리케이션 코드를 발생시킨다. 


### 문서 모델에서의 스키마 유연성 
문서 데이터베이스에서는 대부분 schemaless 하다. 웹페이지 상에 문서를 접근해야 할 때 `저장소 지역성(storage locality)` 을 활용하면 성능 이점이 있다. 지역성의 이점은 한 번에 많은 부분을 필요로 하는 경우에만 적용된다.


### 문서 데이터베이스와 관계형 데이터베이스의 통합 
대부분의 관계형 데이터베이스에서는 JSON 문서 내부에 대해 색인하고 질의하는 기능을 포함한다. 관계형 데이터베이스와 문서 데이터베이스는 시간이 지남에 따라 점점 더 비슷해지고 있다.